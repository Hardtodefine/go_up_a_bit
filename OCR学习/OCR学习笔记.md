# OCR学习笔记

#### 1. 项目选择与环境配置

##### 清华开源的 GOT-OCR2.0

- **项目地址**：https://github.com/Ucas-HaoranWei/GOT-OCR2.0

- 环境配置

  ：

  - 首先在 B 站上找到了清华大学开源的 GOT-OCR2.0 项目。
  - 为了支持该项目的运行，安装了 Anaconda 并卸载了本地 Python。
  - GOT-OCR2.0 项目要求 CUDA 支持，没有 CPU 版本。

##### 兼容性问题

- **问题描述**：大多数 OCR 工具无法兼容超长图片（宽度 1080，高度超过 20000）。
- **优势**：端到端模型 可训练自己的数据
- **解决方案探索**：尝试了 OnnxTR 和 tesseract.js-5.1.1。

#### 2. 探索其他工具

##### Tesseract.js

- **优势**：支持稍长一些的图片（高度可达 25000 像素以下）。
- **问题**：输入图片的宽高比超过 25:1 时，识别错误率显著增加。
- **改进**：通过修改 tesseract.js 的 demo 代码，使每个文件的结果都能生成下载链接。

#### 3. PaddlePaddle PP-OCR

- **优势**：飞桨的 OCR demo 是可用的，并且在 CPU 模式下也能运行，但宽高比限制更为严格（20:1）。
- **问题**：在宽高比超过限制时，禁止识别。
- **特点**：训练数据（traindata）对识别语言、字体及正确率至关重要。

#### 4. 图片预处理与切割

- 图片切割

  ：使用 Python 的图片切割 demo，按高度进行切割。

  - **风险**：存在切坏图的风险。
  - **改进方案**：进行二值化处理，输出一横排的像素检查是否几乎同色，然后再进行切割。

#### 5. 集成到 Web 应用

##### Tesseract.js 集成到 Web 应用

- **潜力**：tesseract.js 可以集成到网页应用中。
- **注意事项**：训练数据（traindata）体积较大，默认中文数据集约为 18MB。
- **解决方案**：考虑将其作为 Vue 模块，并实现懒加载以提高加载速度。

#### 6. 训练数据的重要性

- 训练数据（traindata）

  ：

  - 决定了识别的语言种类。
  - 影响识别的正确率，包括字体等特征。

#### 7. 总结

通过这次探索，我了解到不同的 OCR 工具在处理超长图片时的表现差异，以及训练数据对识别效果的重要影响。对于超长图片，不仅需要合适的 OCR 工具，还需要合适的预处理方法，如图片切割和二值化处理。未来，还可以考虑将 tesseract.js 集成到 Web 应用中，以实现更便捷的 OCR 功能。

##### 夸克扫描王

- **识别正确率**：非常高，适用于各种文档扫描场景。
- **功能可用性**：界面友好，功能齐全，包括文字识别、表格识别、PDF 导出等功能。
- **产品评价**：经过充分打磨和验证，是一款成熟且高效的文字识别工具。

### 学习心得

- **工具选择**：根据应用场景选择合适的 OCR 工具。
- **数据预处理**：合理处理图片，提高识别准确性。
- **集成应用**：考虑将 OCR 功能集成到现有的 Web 应用中，提升用户体验。